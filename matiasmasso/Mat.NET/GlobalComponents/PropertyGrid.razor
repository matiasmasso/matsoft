
<div class="Wrapper">
    @if (model != null)
    {
        <div class="Grid">
            @foreach (var item in model.Items)
            {
                <div class="Label">
                    @Label(item)
                </div>

                <div class="Value">
                    <PropertyGridEditorControl Item="@item"
                                       CanEdit="CanEdit"
                                       RequestToAddNew="@(()=>RequestToAddNew.InvokeAsync(item))"
                                       SetDirty="@(()=>SetDirty.InvokeAsync(item))">
                    </PropertyGridEditorControl>
                </div>
            }
        </div>
    }
</div>


@code {
    [Parameter] public PropertyGridModel model { get; set; }
    [Parameter] public bool CanEdit { get; set; }
    [Parameter] public EventCallback<PropertyGridModel.Item> SetDirty { get; set; }
    [Parameter] public EventCallback<PropertyGridModel.Item> RequestToAddNew { get; set; }

    private string Label(PropertyGridModel.Item item) => item.Label;

}
