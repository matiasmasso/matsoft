@inject ApiService ApiService

<LookupModel Value="Value" Values="values" ValueChanged="HandleValueChanged"></LookupModel>

@code {
    [Parameter] public EmpModel.EmpIds? Emp { get; set; }
    [Parameter] public Guid? Value { get; set; }
    [Parameter] public List<Guid?>? Values { get; set; }
    [Parameter] public EventCallback<ContactModel?> ValueChanged { get; set; }

    private List<ContactModel>? values;

    protected override void OnParametersSet()
    {
        base.OnParametersSet();
        var allValues = ApiService.GetContacts(Emp);
        if (Values == null)
            values = allValues?.OrderBy(x => x.ToString()).ToList();
        else
            values = allValues?.Where(x => Values.Contains(x.Guid)).OrderBy(x => x.ToString()).ToList();
    }

    void HandleValueChanged(IModel args)
    {
        var value = (ContactModel)args;
        ValueChanged.InvokeAsync(value);
    }
}
